---
import { Code } from 'astro/components';
import stocksData from '../../../public/data.json';
import AstraChart from '../../components/charts/chart'; // Corrected import
import ComponentLayout from '../../layouts/Component.astro';
import Layout from '../../layouts/Layout.astro';

const chartTypes = ['line', 'bar', 'column', 'scatter', 'area'] as const;

const basicUsage = `<astra-chart
  type="line"
  .data={stocksData}
  .columns={['date', 'inflation_rate']}
  title="Stock Prices"
  xAxisLabel="Date"
  yAxisLabel="Inflation Rate"
  theme="light"
  colorTheme="mercury"
  client:only="lit"
/>`;
---
<Layout title="Astra-UI - Chart Component">
  <ComponentLayout
    title="Charts"
    summary="Charts are powerful tools for visualizing data. They help users understand trends, patterns, and relationships in complex datasets at a glance."
    hasVariations={true}
  >
    <Fragment slot="variations">
      <div class="space-y-8 w-full">
        <div class="space-y-4">
          <h3 class="text-2xl font-semibold text-neutral-900">Chart Types</h3>
          <div class="grid grid-cols-1 gap-4">
            {chartTypes.map((type) => (
              <div class="py-8 w-full h-[300px]">
                <h4 class="text-lg font-semibold mb-2 capitalize">{type} Chart</h4>
                <!-- @ts-ignore attributes -->
                <AstraChart
                  type={type}
                  client:only="lit"
                  {...{
                    data: stocksData,
                    columns: ['date', 'inflation_rate'],
                    title: `${type.charAt(0).toUpperCase() + type.slice(1)} Chart`,
                    xAxisLabel: 'Date',
                    yAxisLabel: 'Inflation Rate',
                    theme: 'light',
                    colorTheme: 'mercury',
                  }}
                />
              </div>
            ))}
          </div>
        </div>
      </div>
    </Fragment>

    <div slot="usage" class="space-y-12">
      <section class="space-y-6">
        <h2 class="text-3xl font-semibold text-neutral-900">Basic Usage</h2>
        <p class="text-neutral-600">
          To use the Astra Chart component, add the
          <code class="bg-neutral-100 text-neutral-800 px-1 py-0.5 rounded">&lt;astra-chart&gt;</code>
          tag to your HTML:
        </p>
        <Code code={basicUsage} lang="html" class="p-4 rounded-lg text-sm" theme="github-dark" />
      </section>

      <!-- ... rest of your content remains unchanged ... -->

    </div>
  </ComponentLayout>
</Layout>
